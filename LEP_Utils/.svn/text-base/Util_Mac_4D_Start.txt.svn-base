  // ----------------------------------------------------  // Nom utilisateur (OS) : Pascal Foubert  // Date et heure : 16/09/10, 14:41:28  // ----------------------------------------------------  // Méthode : Util_Mac_4D_Start  // Description  //   Start a 4d app  //  // Paramètres  // $1 (Text) full pathname of the 4D app (../contents/MacOS/xxxx)  // $2 (Text) full pathname of the 4D DataBase File  // $3 (Text) full pathname of the 4D structure file (option)  // ----------------------------------------------------  // Improve see CHG0.1  //  // ------------------------------------------------------C_TEXT($1;$2;$3)C_TEXT($Path1;$Path2;$Path3)C_TEXT($Action;$In;$Out;$Error)If (Count parameters>=2)  // Two path provided  // ------ Verifs -----$0:=""If (Test path name($1)#Is a document)  // is a doc$0:="App not found"End if If (Test path name($2)#Is a document)  // is a docIf ($0#"")$0:=$0+"\nData not found"Else $0:="Data not found"End if End if If (Count parameters=3)If (Test path name($3)#Is a document)  // is a docIf ($0#"")$0:=$0+"\nStructure not found"Else $0:="Structure not found"End if End if End if If ($0="")  // Ok$Path1:="/Volumes/"+Util_Mac_Path_to_Unix ($1)$Path2:="/Volumes/"+Util_Mac_Path_to_Unix ($2)Case of : (Count parameters=2)$Action:=$Path1+" -d "+$Path2: (Count parameters=3)$Path3:="/Volumes/"+Util_Mac_Path_to_Unix ($3)$Action:=$Path1+" -d "+$Path2+" "+$Path3End case   //$Action:=$Action+"&"SET ENVIRONMENT VARIABLE("_4D_OPTION_BLOCKING_EXTERNAL_PROCESS";"false")LAUNCH EXTERNAL PROCESS($Action;$In;$Out;$Error)DELAY PROCESS(Current process;30)$pid:=Util_Mac_Pid_Find ("CardioPRO") // CHG0.1 Change this to the name of the app $cpt:=1$Error:="Non démarré"While (($pid="") & ($cpt<=10))$pid:=Util_Mac_Pid_Find ("CardioPRO")If ($pid="")DELAY PROCESS(Current process;30)$cpt:=$cpt+1Else $Error:=""End if End while End if   //Fin de si End if 