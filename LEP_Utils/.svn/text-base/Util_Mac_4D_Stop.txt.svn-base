  // ----------------------------------------------------  // Nom utilisateur (OS) : Pascal Foubert  // Date et heure : 16/09/10, 15:03:09  // ----------------------------------------------------  // MŽthode : Util_Mac_4D_Stop  // Description  //   Stop 4D as defined in the doc, with a Kill  //  // Paramtres  // $1 (Text) Appli to kill  // $2 (Text) Path to App pid file to kill (Opt) OR pid number  // $3 (Text) mode = "file" OU "pid"   // --  // $0 (text) Erreur  // ----------------------------------------------------C_TEXT($0;$1;$App;$2;$pid;$3;$mode)C_TEXT($Action;$In;$Out;$Error;$all_Errors)If (Count parameters>=1)  //   //Si (<>System_Path_Separator=":")  // On Mac OS X, should already be = to ":"$Error:=""$all_Errors:=""$App:=$1Case of : (Count parameters=3)$mode:=$3Case of : ($mode="file")If ($2#"")If (Test path name($2)#Is a document)$Error:="Pid file not found"Else $path:="/Volumes/"+Util_Mac_Path_to_Unix ($2)$Action:="cat "+$pathLAUNCH EXTERNAL PROCESS($Action;$In;$Out;$Error)If ($Error#"")Util_LPE_Logs ($Error;->$all_Errors)Else $pid:=$OutEnd if End if End if : ($mode="pid")$pid:=$2End case : (Count parameters=1)$Error:=Util_Mac_Pid_Find ($app;->$pid)Util_LPE_Logs ($Error;->$all_Errors)End case If ($pid#"")$Action:="kill -INT "+$pidLAUNCH EXTERNAL PROCESS($Action;$In;$Out;$Error)Util_LPE_Logs ($Error;->$all_Errors)$Error:=Util_Mac_Pid_Find ($app;->$pid)Util_LPE_Logs ($Error;->$all_Errors)If ($pid#"")$Action:="kill -TERM "+$pidLAUNCH EXTERNAL PROCESS($Action;$In;$Out;$Error)Util_LPE_Logs ($Error;->$all_Errors)$Error:=Util_Mac_Pid_Find ($1;->$pid)Util_LPE_Logs ($Error;->$all_Errors)If ($pid#"")Util_LPE_Logs ("Impossible to stop the process";->$all_Errors)End if End if $0:=$all_ErrorsEnd if End if 