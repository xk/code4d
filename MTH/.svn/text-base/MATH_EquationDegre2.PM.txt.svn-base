If (False)  // MATH_EquationDegre2 [Micael Germann 25/07/2002]  // ------------------------------------------------------  // ---------------   F R A N C A I S  ---------------   // ------------------------------------------------------  // Cette fonction résout une équation du second degré  // de la forme a*x^2 + b*x + c = 0  // ---------------------------------------------  // Rappels mathématiques:  // Une équation du second degré peut se résoudre par:  //    -b  +/-  sqrt( b^2 - 4*a*c )  // x = --------------------------  //       2*a  // Si le contenu de la racine ( b^2 - 4*a*c ) est positif et non nul  // il y a deux solutions réelles.  // S'il est nul, il y a une solution réelle (les deux solutions sont confond)  // S'il est négatif, il y a deux solutions complexes conjuguées  // De plus, l'équation peut être impossible ( z/0)  // ou indéterminée (0/0).  // ---------------------------------------------  // MATH_EquationDegre2 (PtrTableauReel) -> Résultat  // PtrTableauReel Tableau réels contenant les coefficients  // PtrTableauReel peut donc avoir 3 lignes (degré 2) ou 2 lignes (degré 1)  // Ligne 1 = coefficient A (dans Ax^2 + Bx + C = 0) qui peut être nul  // Ligne 2 = coefficient B (dans Ax^2 + Bx + C = 0)  // Ligne 3 = coefficient C (dans Ax^2 + Bx + C = 0)  // Le tableau sera retourné avec les solutions, si elles existent  // Sinon il sera retourné inchangé  // Résultat (Entier long) niveau de résolution de l'équation :  // 0 -> une ou plusieurs solutions réelles  // -1 -> l'équation est indéterminée (le tableau est inchangé)  // -2 -> l'équation est impossible (le tableau est inchangé)  // 1 -> les solutions sont complexes  // Le tableau est alors rempli comme suit:  // Ligne 1: partie réelle (commune aux deux solutions)  // Ligne 2: partie imaginaire de la première solution  // Ligne 3: partie imaginaire de la seconde solution  // ---------------------------------------------  // MATHERROR  // 0 -> Pas d'erreur  // -1 -> Taille du tableau incorrecte  // ------------------------------------------------------  // ---------------   E N G L I S H   -----------------  // ------------------------------------------------------  // This function solves quadratic equation a*x^2 + b*x + c = 0  // ---------------------------------------------  // Math's summary  // A quadratic equation can be solved with :  //         -b  +/-  sqrt( b^2 - 4*a*c )  //  x = --------------------------  //                      2*a  // If the result of root ( b^2 - 4*a*c ) is positive and not equal to zero, there are two real solutions.  // If the result is null, there is only one solution (twos in one).  // If it's negative, there are two complex combined solutions.  // Furthermore, equation can be unsolvable (z/0) or indeterminate (0/0).  // ---------------------------------------------  // MATH_EquationDegre2 (PtrArrayReal) -> Result  // PtrArrayReal Array real with coefficients  // PtrArrayReal can be filled with 3 lines (degree 2) or 2 lines (degree 1)  // Line 1 = coefficient a (in a*x^2 + b*x + c = 0) can be null  // Line 2 = coefficient b (in a*x^2 + b*x + c = 0)  // Line 3 = coefficient c (in a*x^2 + b*x + c = 0)  // The array will be returned with solutions, if there are.  // If not, the array will be returned unchanged.  // The result (longint) is the resolution level of the equation :  //  0 -> one or more real solutions  // -1 -> indeterminated equation (the array is unchanged)  // -2 -> impossible equation (the array is unchanged)  // 1 -> solutions are complex, the array is :  // Line 1 : real part (common of both solutions)  // Line 2 : imaginary part of first solution  // Line 3 : imaginary part of second solution  // ---------------------------------------------  // MATHERROR  //  0 -> No error  // -1 -> Unvalid array size  // ------------------------------------------------------  // (translation : AG - 02/2007)End if   //@SVN_Folder: MATH_/C_LONGINT(MATHERROR)MATHERROR:=0C_POINTER($1)C_LONGINT($0)C_REAL($a;$b;$c;$delta)$0:=0Case of : (Size of array($1->)=2)  // équation du 1er degré bx + c = 0$a:=0$b:=$1->{1}$c:=$1->{2}: (Size of array($1->)=3)  // équation du 1er ou 2eme degré  $a:=$1->{1}$b:=$1->{2}$c:=$1->{3}Else MATHERROR:=-1End case If (MATHERROR=0)If ($a=0)  // Equation du premier degréIf ($b=0)If ($c=0)  // Indéterminée$0:=-1Else   // Impossible$0:=-2End if Else ARRAY REAL($1->;1)$1->{1}:=-$b/$c  // Zéro unique (1er degré)End if Else   // Equation du second degré$delta:=($b^2)-(4*$a*$c)Case of : ($delta>0)  //deux racines réellesARRAY REAL($1->;2)$1->{1}:=(-$b+Square root($delta))/(2*$a)  //Premier zéro$1->{2}:=(-$b-Square root($delta))/(2*$a)  // Deuxième zéro$0:=0: ($delta=0)  // une racine réelleARRAY REAL($1->;1)$1->{1}:=-($b/(2*$a))  // Zéro unique$0:=0Else   //deux solutions complexes conjuguéesARRAY REAL($1->;3)$1->{1}:=-($b/(2*$a))  // Partie réelle commune$1->{2}:=Square root(-($delta))/(2*$a)  // Partie imaginaire$1->{3}:=-(Square root(-($delta))/(2*$a))  // Partie imaginaire conjuguée$0:=1End case End if End if 