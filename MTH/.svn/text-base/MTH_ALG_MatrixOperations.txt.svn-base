  `This method is part from Math4D project 2002-2010 with authors : Jacques Bossy, Philip Burns, Olivier Deschanels, Marc Duc-Jacquet  `Bernard Escaich, Antoine Galmiche, Micaël Germann, George F. Huhn, Nicolas Jore, Teddy Linet, Frédéric Quoirez, Michel Saiz, Robert Van LooIf (False)  ` MTH_ALG_MatrixOperations (was MATH_MatricesOperations) [Antoine Galmiche 30/07/2002]  ` ------------------------------------------------------  ` ---------------   E N G L I S H   -----------------   ` ------------------------------------------------------  ` MATH_MatricesOperations (->Param; Operator; ->Matrix; ->ResultingMatrix)  ` Param (Pointer) Variable or 2DArray  ` Operator (1 char string) "+" or "*"  ` Matrix (Pointer) regular 2D array (see MATH_ObjetVersMatrice)  ` ResultingMatrix (Pointer) 2DArray result  ` ----------------------------------  ` MATHERROR  `  0 -> No error  ` -1 -> A zero-size matrix  ` -2 -> Matrix doesn't have same size  ` -3 -> Number of columns in matrix1 # number of lines in matri  ` -4 -> Operator unrecognized  ` ----------------------------------  ` WARNING :  ` Matrix are supposed to be regular :  ` number of columns of each line is the same in the whole array  ` ------------------------------------------------------  ` ---------------   F R A N C A I S  ---------------   ` ------------------------------------------------------  ` MATH_MatricesOperations (->Paramètre; Opérateur; ->Matrice; ->MatriceRésultat)  ` Paramètre (Pointeur) Variable ou tableau2D  ` Opérateur (Chaine1car) "+" ou "*"  ` Matrice (Pointeur) Tableau 2D "régulier" (voir MATH_ObjetVersMatrice)  ` MatriceRésultat (Pointeur) Tableau2D résultat de l'opération  ` ----------------------------------  ` MATHERROR  `  0 -> Pas d'erreur  ` -1 -> Il y a une matrice de taille nulle  ` -2 -> Les matrices n'ont pas les mêmes tailles  ` -3 -> Le nb de colonnes de la matrice1 différent du nb de lignes de la matrice2  ` -4 -> L'opérateur n'est pas reconnu  ` ----------------------------------  ` ATTENTION :  ` On suppose que les matrices sont correctes :  ` le nombre de colonnes de chaque ligne est identique dans tout le tableau  ` ------------------------------------------------------  ` (translation : AG - 02/2007)End if C_LONGINT(MATHERROR)C_POINTER($1;$3;$4)C_STRING(1;$2)MATHERROR:=0If (False)C_POINTER(MTH_ALG_MatrixOperations ;$1)C_STRING(MTH_ALG_MatrixOperations ;1;$2)C_POINTER(MTH_ALG_MatrixOperations ;$3)C_POINTER(MTH_ALG_MatrixOperations ;$4)End if If (Type($1->)=Array 2D )  ` addition ou multiplication de 2 matricesIf ((Size of array($1->)=0) | (Size of array($3->)=0))  ` tableaux vides  MATHERROR:=-1Else Case of : ($2="*")  ` multiplication de 2 matricesIf (Size of array($1->{1})#Size of array($3->))  ` nb colonnes tab1 = nb lignes tab2MATHERROR:=-3End if : ($2="+")  ` addition de 2 matricesIf (Size of array($1->)#Size of array($3->))  ` même nb de lignesMATHERROR:=-2Else If (Size of array($1->{1})#Size of array($3->{1}))  ` même nb de colonnesMATHERROR:=-2End if End if Else MATHERROR:=-4  ` opérateur non reconnuEnd case End if Else   ` multiplication matrice * scalaire    If (($2#"*") & ($2#"+"))MATHERROR:=-4End if End if If (MATHERROR=0)C_LONGINT($i;$j;$k)If ((Type($1->)=Array 2D ) & ($2="*"))  ` multiplication de 2 matricesARRAY REAL($tab;Size of array($1->);Size of array($3->{1}))  ` tableau matrice résultat  même taille que les param For ($i;1;Size of array($tab))  ` Pour chaque ligne du tableau final For ($j;1;Size of array($tab{1}))  ` et chaque colonne$tab{$i}{$j}:=0For ($k;1;Size of array($3->))  ` chaque colonne de la 2ème matrice$tab{$i}{$j}:=$tab{$i}{$j}+(($1->{$i}{$k})*($3->{$k}{$j}))End for End for End for Else   ` addition de 2 matrices ou produit avec un réelARRAY REAL($tab;Size of array($3->);Size of array($3->{1}))  ` tableau matrice résultat  même taille que les param     For ($i;1;Size of array($3->))  ` pour chaque ligne de matriceFor ($j;1;Size of array($3->{1}))  ` et pour chaque colonneIf (Type($1->)=Array 2D )  ` addition de 2 matrices    $tab{$i}{$j}:=($1->{$i}{$j})+($3->{$i}{$j})Else   ` multiplication par un réel$tab{$i}{$j}:=($1->)*($3->{$i}{$j})End if End for End for End if COPY ARRAY($tab;$4->)End if 